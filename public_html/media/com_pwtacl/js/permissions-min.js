/**
 * @package    PwtAcl
 *
 * @author     Sander Potjer - Perfect Web Team <extensions@perfectwebteam.com>
 * @copyright  Copyright (C) 2011 - [year] Perfect Web Team. All rights reserved.
 * @license    GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 * @link       https://extensions.perfectwebteam.com/pwt-acl
 */
jQuery(document).ready((function(t){var a=t(".action.edit");function s(a,s,e,i){request={assetid:a,action:s,groupid:e,setting:i},t.ajax({type:"POST",data:request,url:"index.php?option=com_pwtacl&task=assets.saveAction",success:function(t){1===a&&"core.admin"===s&&location.reload()}})}options=Joomla.getOptions("pwtacl"),a&&a.click((function(a){a.preventDefault();var e=parseInt(t(this).attr("data-assetid")),i=t(this).attr("data-action"),d=parseInt(t(this).attr("data-groupid")),n=parseInt(t(this).attr("data-setting")),o=parseInt(t(this).attr("data-setting-calculated")),r=parseInt(t(this).attr("data-setting-parent")),l=null,h=null,c=null;if(1===e&&"core.admin"===i&&1===n&&!1===confirm(options.superuseralert))return!1;9===o?9===n&&(l=1,h=1,c=1,t(this).addClass("allowed"),t(this).find("span").removeClass().addClass("icon-ok")):1===o?(1===r&&1===n?(l=0,h=0,c=0,t(this).removeClass("allowed").addClass("denied"),t(this).find("span").removeClass("icon-ok").addClass("icon-not-ok")):1===n&&(l=9,h=9,c=9,t(this).removeClass("allowed"),t(this).find("span").removeClass().addClass("icon-not-ok")),9===n&&(l=0,h=0,c=0,t(this).addClass("denied"),t(this).find("span").removeClass().addClass("icon-not-ok"))):0===o&&(1===r&&0===n?(l=9,h=1,c=1,t(this).removeClass("denied"),t(this).find("span").removeClass().addClass("icon-ok")):0===n&&(l=9,h=9,c=9,t(this).removeClass("denied")),1===n&&(l=9,c=0,t(this).removeClass("conflict"),t(this).find("span").removeClass().addClass("icon-not-ok"))),t(this).attr("data-setting",l),t(this).attr("data-setting-calculated",c),null!==l&&s(e,i,d,l),null!==h&&function a(e,i,d,n,o){t('td[data-parentid="'+e+'"][data-action="'+i+'"]').each((function(){var e=parseInt(t(this).attr("data-setting")),r=parseInt(t(this).attr("data-assetid"));9===d?(9===e&&(t(this).attr("data-setting-calculated",d),t(this).find("span").removeClass().addClass("icon-not-ok")),0===e&&(t(this).attr("data-setting",9),t(this).removeClass("denied"),t(this).find("span").removeClass().addClass("icon-not-ok"),s(r,i,o,9))):1===d?(9===e&&(t(this).attr("data-setting-calculated",d),t(this).find("span").removeClass().addClass("icon-ok")),1===e&&(t(this).attr("data-setting-calculated",d),t(this).attr("data-setting",9),t(this).removeClass("allowed"),s(r,i,o,9))):0===d&&(0===n&&9===e?(t(this).attr("data-setting-calculated",d),t(this).attr("data-setting",9),t(this).find("span").removeClass().addClass("icon-lock")):9===e&&(t(this).attr("data-setting-calculated",d),t(this).attr("data-setting",9),t(this).find("span").removeClass().addClass("icon-not-ok")),0===e&&(t(this).attr("data-setting",9),t(this).removeClass("denied"),t(this).find("span").removeClass().addClass("icon-lock"),s(r,i,o,9))),t(this).attr("data-setting-parent",n),a(r,i,d,n)}))}(e,i,h,l,d)})),t.fn.fixedHeader=function(a){var s={topOffset:82};return a&&t.extend(s,a),this.each((function(){var a=t(this),e=t(window),i=t("thead",a),d=0,n=i.length&&i.offset().top-s.topOffset;function o(){if(a.is(":visible")){if(t("thead.header-copy").length){t("thead.header-copy th").each((function(a,s){t(s).width(t(i.find("th")[a]).width())}));var o=e.scrollTop()}var r=i.length&&i.offset().top-s.topOffset;d||n==r||(n=r),o>=n&&!d?d=1:o<=n&&d&&(d=0),d?t("thead.header-copy",a).show().offset({left:i.offset().left}):t("thead.header-copy",a).hide()}}e.on("scroll",o),i.clone(!0).addClass("header-copy header-fixed").css({position:"fixed",top:s.topOffset}).appendTo(a),a.find("thead.header-copy"),a.find("thead > tr > th").each((function(s,e){var i=t(e).width();a.find("thead.header-copy> tr > th:eq("+s+")").width(i)})),o()}))},t(".table-fixed-header").fixedHeader(),t("[data-toggle=additional]").click((function(a){a.preventDefault(),t(this).toggleClass("js-open js-closed"),"#pwtaclall"===this.getAttribute("data-target")?(t(this).hasClass("js-open")&&(t(".additional").show(),t("[data-toggle=additional]").find("span").removeClass("icon-arrow-right").addClass("icon-arrow-down")),t(this).hasClass("js-closed")&&(t(".additional").hide(),t("[data-toggle=additional]").find("span").removeClass("icon-arrow-down").addClass("icon-arrow-right"))):(t(this.getAttribute("data-target")).toggle(),t(this).find("span").toggleClass("icon-arrow-right icon-arrow-down"))}))})),jQuery(window).on("resize",(function(){jQuery(".header-copy").remove(),jQuery(".table-fixed-header").fixedHeader()}));